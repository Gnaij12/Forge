{% extends "base.html" %}
{% block content %}
    <div
        class="h-[94vh] bg-cover bg-center"
        style="background-image:url('static/assets/Website_P1_Blank.png')">
        <img
            class="ml-3 h-[15vh]"
            src="{{ url_for('static', filename='assets/Logo_Full.png') }}" />
        <div
            class="bg-theme-artic grid-flow-* container mx-auto flex h-3/4 w-2/5 flex-col items-center justify-center rounded-3xl border-0 border-indigo-50 bg-opacity-0"
            style="margin: auto; margin-top:3%;">
            <img class="h-1/2 w-2/3" src="/static/assets/Crab_Loading.gif" />
            <div
                class="flex  h-1/6 w-full flex-col items-center justify-center rounded-2xl bg-opacity-0">
                <div
                    class="bg-theme-artic relative h-1/3 w-full overflow-hidden rounded-xl">
                    <div
                        class="absolute left-0 top-0 h-full w-1/2 bg-green-500"></div>
                </div>
                <p class="text-theme-halfw mt-4 text-4xl" id="loading">
                    Loading.
                </p>
            </div>
        </div>
    </div>
    <div class="bg-theme-bronze h-[6vh] w-full"></div>

    <script>
        var text = ["Loading.", "Loading..", "Loading..."];
        var counter = 0;
        var elem = document.getElementById("loading");
        var inst = setInterval(change, 1000);

        function change() {
            counter = (counter + 1) % text.length;
            elem.innerHTML = text[counter];
        }

        fetch("/parse_text")
            .then((v) => v.json())
            .then((j) => {
                window.location.href = "/game?" + jQuery.param(j);
            });
    </script>
{% endblock %}
